{% extends "layout.html" %}
{% block title %}FEM Snapshot{% endblock %}
{% block body %}
{{ super() }}
<div class="container">
<div class="row">
<div class="col-md-3 hcenter">
<div class="card">
    <div class="card-header">FEM {{fem}} Snapshot</div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item">Board 0</li>
        <li class="list-group-item">Taken at <span id="snapshot-time"></span></li>
    </ul>
</div>
</div>
</div>
    <div class="row">
    <div class="col-md-12" style="padding:0" id="waveform-holder">
        <div id="waveform"></div>
    </div>
    </div>
</div>
{%endblock%}
{% block script %}
<script src="{{ url_for('static', filename='js/minargon/draw_waveform.js') }}" defer></script>
<script defer>
// get snapshot time
d3.json($SCRIPT_ROOT + "/snapshot/time", function(err, data) {
  var time = moment(new Date(data.value * 1000));
  $("#snapshot-time").html(time.format("MM/DD hh:mm:ss"));
});
$(document).ready(function() {
  // draw waveform
  draw_waveform('waveform', {fem: {{fem}} });
});
</script> 
{% endblock %}
