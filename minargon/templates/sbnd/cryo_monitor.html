{% extends "layout.html" | front_ended %}

{% block title %}SBND Cryo Monitor{% endblock %}

{% block body %}
{{ super() }}
<h2>SBND Cryo Monitor Demo</h2>

<P>
<h4>Cryostat Temperature</h4>
<TABLE>
<TR><TH>PV</TH>
<TH>te-8108a</a></TH>

<TR align="center"><TD>value</TD>
<TD style="text-align:center"><a id="3557/value"></a></TD>

<TR align="center"><TD>last read time</TD>
<TD style="text-align:center"><a id="3557/last_read_time"></a></TD>

<TR align="center"><TD>status</TD>
<TD style="text-align:center"><a id="3557/status" class="led-green">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></TD>

</TR>
</TABLE>
</P>


{%endblock%}

{% block style %}
      table
      {
        border:1px solid black;padding:5px;font-size: 100%
      }
      td
      {
        text-align:right;
        border:1px solid grey;padding:5px;
      }
      th
      {
        text-align:center;
        border:1px solid grey;padding:5px;
      }
      body
      {
        margin: 28px;
      }
{% endblock %}

<!---->
{% block script %}

<link href="{{ url_for('static', filename='css/lights.css') }}" rel="stylesheet" type="text/css">
<script src="{{ url_for('static', filename='js/lights.js') }}"></script>
 
<!-- Populate above table -->
<script type="text/javascript">
$(document).ready(function() {
{%for row in rows%}
{
  var item_value = document.getElementById("{{row[0]}}"+"/value");
  var pv_value = "{{row[1]}}";
  item_value.innerHTML = "{{row[1]}}";

  var item_tstamp = document.getElementById("{{row[0]}}"+"/last_read_time");
  var pv_tstamp = "{{row[2]}}";
  item_tstamp.innerHTML = "{{row[2]}}";
}
{%endfor%}
});
</script>




<meta http-equiv="refresh" content="15">
<!-- </html> -->
{%endblock%}

