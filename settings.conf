CHANNEL_MAP_FNAME="/web/sites/s/sbn-online.fnal.gov/cgi-bin/minargon/minargon/channel_map.txt"
DATA_CONFIG="/web/sites/s/sbn-online.fnal.gov/cgi-bin/minargon/data_config.json"
FRONT_END="sbnd"
WEB_ROOT="/cgi-bin/minargon/minargon.wsgi"

SQLITE_INSTANCES = {
}

REDIS_INSTANCES = {
  "online": {
    "host": "sbnd-db01.fnal.gov",
    "port": 6379,
    "password": "B4730D6D9606E3EB37048EB017D4C69EFB56243CCC408E3BEC3BFDEEDF792876",
  },
  "onlineDAB": {
    "host": "sbnd-daq33.fnal.gov",
    "port": 6379,
    "password": "B4730D6D9606E3EB37048EB017D4C69EFB56243CCC408E3BEC3BFDEEDF792876",
  }
}

def sbn_epics_table():
    table_name = "DCS_ARCHIVER.SAMPLE"
    return table_name

def epics_table():
    table_name = "DCS_PRD.SAMPLE"
    return table_name

def csu_table():
    table_name = "CSU_GIZMO.SAMPLE"
    return table_name

def arapuca_table():
    table_name = "ARAPUCA.SAMPLE"
    return table_name

def sbnd_ignition_table():
    table_name = "CRYO_PRD.SQLT_DATA_1_2024_01"
    return table_name

def archiver_table(name=None, metric=None, avg=None):
    if name is None:
        raise TypeError("'name should not be None")
    if metric is None:
        raise TypeError("'metric should not be None")
    if avg is None:
        raise TypeError("'avg should not be None")
    return "RUNCON_PRD.%s_%s_%s_monitor" % (name, metric, avg)

POSTGRES_INSTANCES = {
 "epics": {
    "epics_secret_key": "/web/sites/s/sbn-online.fnal.gov/data/.epics/epics_sbnd.dat",
    "name": "sbnd_online_prd",
    "port": 5455,
    "host": "ifdb09.fnal.gov",


    "time_name": "SMPL_TIME",
    "value_names": ("NUM_VAL", "FLOAT_VAL"),
    "table_func": epics_table
  },

  "sbn_epics": {
    "epics_secret_key": "/web/sites/s/sbn-online.fnal.gov/data/.epics/epics.dat",
    "name": "sbnteststand",
    "port": 5488,
    "host": "cdpgsdev",

    "time_name": "SMPL_TIME",
    "value_names": ("FLOAT_VAL","NUM_VAL"),
    "table_func": sbn_epics_table
  },

  "sbnd_epics": {
    "epics_secret_key": "/web/sites/s/sbn-online.fnal.gov/data/.epics/epics_sbnd.dat",
    "name": "sbnd_online_prd",
    "port": 5456,
    "host": "ifdb09",
    "time_name": "SMPL_TIME",
    "value_names": ("FLOAT_VAL","NUM_VAL"),
    "table_func": epics_table
  },

  "csu_epics": {
     "epics_secret_key": "/web/sites/s/sbn-online.fnal.gov/data/.epics/epics_csu.dat",
     "name": "sbnteststand",
     "port": 5488,
     "host": "cdpgsdev.fnal.gov",
     "time_name": "SMPL_TIME",
     "value_names": ("FLOAT_VAL","NUM_VAL"),
     "table_func": csu_table,
  },

  "arapuca_epics": {
     "epics_secret_key": "/web/sites/s/sbn-online.fnal.gov/data/.epics/epics_arapuca.dat",
     "name": "sbnd_online_prd",
     "port": 5434,
     "host": "sbnd-db01.fnal.gov",
     "time_name": "SMPL_TIME",
     "value_names": ("FLOAT_VAL","NUM_VAL"),
     "table_func": arapuca_table,
  },

  "sbnd_ignition": {
    "ignition_secret_key": "/web/sites/s/sbn-online.fnal.gov/data/.epics/epics_sbnd.dat",
    "name": "sbnd_online_prd",
    "port": 5456,
    "host": "ifdb09",
    "time_name": "SMPL_TIME",
    "value_names": ("FLOAT_VAL","NUM_VAL"),
    "table_func": sbnd_ignition_table,
  }

}

EPICS_INSTANCES = ["sbnd_epics"] #, "epics"]
IGNITION_INSTANCES = ["sbnd_ignition"]
ONLINE_REDIS_INSTANCES ["online"]

ELASTICSEARCH_INSTANCES = {                                                                         
  "sbnd_alarm_logger" : {                                                                           
    "host" : "sbnd-dcs02.fnal.gov",                                                                 
    "port" : 9200,                                                                                  
    "index_gatherer" : {                                                                            
      "type" : "monthly",                                                                           
      "topic" : "sbnd_alarms_state_*",                                                              
      "strptime_fmt" : "%Y-%m-%d",                                                                  
      "max_indices" : 4                                                                             
    }                                                                                               
  }                                                                                                 
}

